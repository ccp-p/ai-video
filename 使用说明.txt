========================================
  音频/视频AI总结工具 - 使用说明
========================================

【版本更新】
✅ 2.0 前后端分离版本
- HTML从Go代码中分离
- 纯HTML+Vue前端，无需工程化
- 自动读取D:/download目录
- 优化UI，聚焦AI总结展示
- 修复API和AI总结问题

========================================
  一、准备环境（必需）
========================================

1. 安装 Go 1.18+
   下载：https://go.dev/dl/
   验证：go version

2. 安装 FFmpeg
   下载：https://ffmpeg.org/download.html
   验证：ffmpeg -version
   注意：建议下载完整版（包含ffprobe）

3. 创建下载目录
   mkdir D:\download

========================================
  二、启动服务
========================================

【方式1：双击启动】
  双击运行 start_server.bat

【方式2：命令行启动】
  go run main.go -mode server -port 8080

【方式3：CLI模式】
  # 处理视频
  go run main.go -mode cli -video D:\download\demo.mp4

  # 处理音频
  go run main.go -mode cli -audio D:\download\audio.mp3

启动成功后，浏览器访问：
  http://localhost:8080

========================================
  三、使用流程
========================================

第1步：准备视频
  将视频文件放入 D:\download 目录

第2步：选择文件
  在左侧"下载目录文件"列表中点击文件

第3步：处理视频
  点击"开始处理视频"按钮
  等待进度条完成（30秒-几分钟）

第4步：AI总结
  点击"生成AI总结"按钮
  系统自动使用识别文本

第5步：查看结果
  - 核心要点（加粗显示）
  - 完整Markdown总结
  - 原始数据和字幕
  - 截图路径

========================================
  四、功能说明
========================================

【视频处理】
  ✓ 提取音频（MP3格式）
  ✓ 语音识别（B站必剪API）
  ✓ 生成SRT字幕
  ✓ 提取5张截图

【AI总结】
  ✓ 本地算法（无需API Key）
  ✓ 或配置外部API（OpenAI等）
  ✓ Markdown格式输出
  ✓ 核心要点提取

【文件管理】
  ✓ 自动读取D:/download
  ✓ 一键选择文件
  ✓ 支持视频/音频文件

========================================
  五、配置说明
========================================

【默认配置】
  - 无需API Key
  - 使用本地算法
  - 生成Markdown格式

【配置外部API】
  1. 点击"AI配置"
  2. 填入API Key和URL
  3. 选择模型（gpt-4等）
  4. 点击"保存配置"

支持的API：
  - OpenAI ChatGPT
  - 文心一言
  - 通义千问
  - 其他OpenAI兼容API

========================================
  六、输出文件
========================================

处理视频后，会在视频同目录创建：
  output_视频名/
  ├── audio.mp3          (音频文件)
  ├── subtitles.srt      (字幕文件)
  ├── segments.json      (识别结果)
  └── screenshot_*.jpg   (5张截图)

========================================
  七、常见问题
========================================

Q1: 找不到ffmpeg怎么办？
A1: 下载FFmpeg并添加到系统PATH环境变量

Q2: 目录D:/download不存在怎么办？
A2: 手动创建：mkdir D:\download
    或修改main.go中的DOWNLOAD_DIR常量

Q3: 服务启动失败怎么办？
A3: 检查端口8080是否被占用
    或修改端口：-port 8081

Q4: 语音识别失败怎么办？
A4: 检查网络连接
    确保能访问B站API
    检查音频格式（支持MP3/WAV）

Q5: 如何修改下载目录？
A5: 编辑main.go，修改：
    const DOWNLOAD_DIR = "你的目录路径"

========================================
  八、技术特点
========================================

后端：Go标准库 + net/http
前端：Vue 3 CDN + 原生HTML/CSS
语音：B站必剪API
视频：FFmpeg处理
无依赖：无需npm、webpack等工具

========================================
  九、联系作者
========================================

如有问题，查看README.md详细文档
或检查日志输出

========================================
  2025-12-18 更新
========================================
